#!/usr/bin/env python
# -*- coding: utf-8 -*-
from click import *
from generator import *

__author__ = "Loi Nguyen <loinguyentrung@gmail.com>"


def generate_model():
    """
    Scan database schema and update structure
    for models - repositories and services
    """
    generator = ModelGenerator()
    generator.set_model_path(MODEL_PATH)
    generator.set_bind_path(BIND_PATH)
    generator.set_identifier('//*************************************************')
    generator.scan_models()
    generator.scan_database()
    generator.generate_models()
    generator.scan_models()
    generator.scan_model_annotation()
    generator.generate_repositories()


@command()
@option('--docs', default=False, is_flag=True, help='Generate api documentation')
@option('--help', default=False, is_flag=True, help='')
def rest(docs, help):
    if docs:
        print 'Generate Swagger documentation'
    if help:
        print '''A full stack command supports for web service application
Usages:
    --docs : Update api documentation
    --app  : Create skeleton application
    --db   : Update database schema with model and repository
    --help : Command line usages'''


if __name__ == '__main__':
    rest()
